<?xml version="1.0" encoding="UTF-8"?>
<!--
CAUTION: Do not modify this file unless you know what you are doing.
         Unexpected results may occur if the code is changed deliberately.
-->
<dbmodel pgmodeler-ver="0.9.2-beta2" last-position="0,0" last-zoom="0.75" max-obj-count="31"
	 default-schema="public" default-owner="postgres">
<role name="project_medical_user"
      inherit="true"
      login="true"
      encrypted="true"
      password="********">
</role>

<role name="neomerce_app"
      inherit="true"
      login="true"
      encrypted="true"
      password="********">
</role>

<database name="neomerce" encoding="UTF8" lc-collate="en_US.UTF-8" lc-ctype="en_US.UTF-8" is-template="false" allow-conns="true">
	<role name="postgres"/>
	<tablespace name="pg_default"/>
</database>

<schema name="public" layer="0" rect-visible="true" fill-color="#e1e1e1" sql-disabled="true">
</schema>

<function name="is_positive"
		window-func="false"
		returns-setof="false"
		behavior-type="CALLED ON NULL INPUT"
		function-type="VOLATILE"
		security-type="SECURITY INVOKER"
		execution-cost="100"
		row-amount="0">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<language name="plpgsql" sql-disabled="true"/>
	<return-type>
	<type name="boolean" length="1"/>
	</return-type>
	<parameter name="val">
		<type name="numeric" length="0"/>
	</parameter>
	<definition><![CDATA[ 
BEGIN 
IF val >= 0 THEN RETURN true;
ELSE RETURN false;
END IF;
END;
]]></definition>
</function>

<table name="citytype" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1220" y="40"/>
	<column name="city_type" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<column name="delivery_days" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="citytype_delivery_days_check" type="ck-constr" table="public.citytype">
			<expression><![CDATA[is_positive((delivery_days)::numeric)]]></expression>
	</constraint>
	<constraint name="citytype_pkey" type="pk-constr" table="public.citytype">
		<columns names="city_type" ref-type="src-columns"/>
	</constraint>
</table>

<table name="city" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="960" y="240"/>
	<column name="city" not-null="true">
		<type name="character varying" length="127"/>
	</column>
	<column name="city_type" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<constraint name="city_pkey" type="pk-constr" table="public.city">
		<columns names="city" ref-type="src-columns"/>
	</constraint>
</table>

<table name="accounttype" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1200" y="440"/>
	<column name="account_type" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<constraint name="accounttype_pkey" type="pk-constr" table="public.accounttype">
		<columns names="account_type" ref-type="src-columns"/>
	</constraint>
</table>

<table name="customer" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1580" y="520"/>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="account_type" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<constraint name="customer_pkey" type="pk-constr" table="public.customer">
		<columns names="customer_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="userinformation" layer="0" collapse-mode="2" max-obj-count="12">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="2020" y="300"/>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="email" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="first_name" not-null="true">
		<type name="character" length="255"/>
	</column>
	<column name="last_name" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="addr_line1" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="addr_line2" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="city">
		<type name="character varying" length="127"/>
	</column>
	<column name="postcode" not-null="true">
		<type name="character varying" length="31"/>
	</column>
	<column name="dob" not-null="true">
		<type name="timestamp" length="0"/>
	</column>
	<column name="last_login" default-value="now()">
		<type name="timestamp" length="0"/>
	</column>
	<constraint name="userinformation_pkey" type="pk-constr" table="public.userinformation">
		<columns names="customer_id" ref-type="src-columns"/>
	</constraint>
	<constraint name="userinformation_email_key" type="uq-constr" table="public.userinformation">
		<columns names="email" ref-type="src-columns"/>
	</constraint>
</table>

<table name="telephonenumber" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1600" y="140"/>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="phone_number" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<constraint name="telephonenumber_pkey" type="pk-constr" table="public.telephonenumber">
		<columns names="customer_id,phone_number" ref-type="src-columns"/>
	</constraint>
</table>

<table name="session" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1800" y="760"/>
	<column name="session_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="created_time" not-null="true" default-value="now()">
		<type name="timestamp" length="0"/>
	</column>
	<column name="updated_time" default-value="now()">
		<type name="timestamp" length="0"/>
	</column>
	<column name="expire_date" not-null="true">
		<type name="timestamp" length="0"/>
	</column>
	<constraint name="session_pkey" type="pk-constr" table="public.session">
		<columns names="session_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="accountcredential" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="2060" y="100"/>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="password" not-null="true">
		<type name="character" length="60"/>
	</column>
	<constraint name="accountcredential_pkey" type="pk-constr" table="public.accountcredential">
		<columns names="customer_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="category" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="780" y="480"/>
	<column name="category_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="title">
		<type name="character varying" length="255"/>
	</column>
	<column name="parent_id">
		<type name="character" length="36"/>
	</column>
	<constraint name="category_pkey" type="pk-constr" table="public.category">
		<columns names="category_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="product" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="40" y="680"/>
	<column name="product_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="title" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="description" not-null="true">
		<type name="text" length="0"/>
	</column>
	<column name="weight_kilos">
		<type name="numeric" length="7" precision="2"/>
	</column>
	<column name="brand">
		<type name="character varying" length="255"/>
	</column>
	<constraint name="product_weight_kilos_check" type="ck-constr" table="public.product">
			<expression><![CDATA[is_positive(weight_kilos)]]></expression>
	</constraint>
	<constraint name="product_pkey" type="pk-constr" table="public.product">
		<columns names="product_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="productcategory" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="380" y="460"/>
	<column name="category_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="product_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<constraint name="productcategory_pkey" type="pk-constr" table="public.productcategory">
		<columns names="category_id,product_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="productattribute" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="40" y="380"/>
	<column name="product_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="attribute_name" not-null="true">
		<type name="character" length="31"/>
	</column>
	<column name="attribute_value" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<constraint name="productattribute_pkey" type="pk-constr" table="public.productattribute">
		<columns names="product_id,attribute_name" ref-type="src-columns"/>
	</constraint>
</table>

<table name="variant" layer="0" collapse-mode="2" max-obj-count="9">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="280" y="860"/>
	<column name="variant_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="product_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="sku_id">
		<type name="character varying" length="127"/>
	</column>
	<column name="quantity" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="title" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="description" not-null="true">
		<type name="text" length="0"/>
	</column>
	<column name="listed_price" not-null="true">
		<type name="numeric" length="12" precision="2"/>
	</column>
	<column name="selling_price" not-null="true">
		<type name="numeric" length="12" precision="2"/>
	</column>
	<constraint name="variant_quantity_check" type="ck-constr" table="public.variant">
			<expression><![CDATA[is_positive((quantity)::numeric)]]></expression>
	</constraint>
	<constraint name="variant_listed_price_check" type="ck-constr" table="public.variant">
			<expression><![CDATA[is_positive(listed_price)]]></expression>
	</constraint>
	<constraint name="variant_selling_price_check" type="ck-constr" table="public.variant">
			<expression><![CDATA[is_positive(selling_price)]]></expression>
	</constraint>
	<constraint name="variant_pkey" type="pk-constr" table="public.variant">
		<columns names="variant_id" ref-type="src-columns"/>
	</constraint>
	<constraint name="variant_sku_id_key" type="uq-constr" table="public.variant">
		<columns names="sku_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="variantattribute" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1860" y="1100"/>
	<column name="variant_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="attribute_name" not-null="true">
		<type name="character" length="31"/>
	</column>
	<column name="attribute_value" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<constraint name="variantattribute_pkey" type="pk-constr" table="public.variantattribute">
		<columns names="variant_id,attribute_name" ref-type="src-columns"/>
	</constraint>
</table>

<table name="cartitem" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="780" y="800"/>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="variant_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="quantity" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<column name="added_time" not-null="true" default-value="now()">
		<type name="timestamp" length="0"/>
	</column>
	<constraint name="cartitem_quantity_check" type="ck-constr" table="public.cartitem">
			<expression><![CDATA[is_positive((quantity)::numeric)]]></expression>
	</constraint>
	<constraint name="cartitem_pkey" type="pk-constr" table="public.cartitem">
		<columns names="customer_id,variant_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="orderdata" layer="0" collapse-mode="2" max-obj-count="3">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1480" y="1340"/>
	<column name="order_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="customer_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="order_date">
		<type name="timestamp" length="0"/>
	</column>
	<constraint name="orderdata_pkey" type="pk-constr" table="public.orderdata">
		<columns names="order_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="orderitem" layer="0" collapse-mode="2" max-obj-count="4">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="760" y="1140"/>
	<column name="variant_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="order_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="quantity" not-null="true">
		<type name="integer" length="0"/>
	</column>
	<constraint name="orderitem_quantity_check" type="ck-constr" table="public.orderitem">
			<expression><![CDATA[is_positive((quantity)::numeric)]]></expression>
	</constraint>
	<constraint name="orderitem_pkey" type="pk-constr" table="public.orderitem">
		<columns names="variant_id,order_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="paymentmethod" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="60" y="1800"/>
	<column name="payment_method" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<constraint name="paymentmethod_pkey" type="pk-constr" table="public.paymentmethod">
		<columns names="payment_method" ref-type="src-columns"/>
	</constraint>
</table>

<table name="paymentstatus" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="60" y="1200"/>
	<column name="payment_status" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<constraint name="paymentstatus_pkey" type="pk-constr" table="public.paymentstatus">
		<columns names="payment_status" ref-type="src-columns"/>
	</constraint>
</table>

<table name="payment" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="300" y="1440"/>
	<column name="order_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="payment_method" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="payment_status" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="payment_date">
		<type name="timestamp" length="0"/>
	</column>
	<column name="payment_amount">
		<type name="numeric" length="12" precision="2"/>
	</column>
	<constraint name="payment_payment_amount_check" type="ck-constr" table="public.payment">
			<expression><![CDATA[is_positive(payment_amount)]]></expression>
	</constraint>
	<constraint name="payment_pkey" type="pk-constr" table="public.payment">
		<columns names="order_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="deliverystatus" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="720" y="1660"/>
	<column name="delivery_status" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<constraint name="deliverystatus_pkey" type="pk-constr" table="public.deliverystatus">
		<columns names="delivery_status" ref-type="src-columns"/>
	</constraint>
</table>

<table name="deliverymethod" layer="0" collapse-mode="2" max-obj-count="2">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="600" y="1980"/>
	<column name="delivery_method" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="description">
		<type name="character varying" length="127"/>
	</column>
	<constraint name="deliverymethod_pkey" type="pk-constr" table="public.deliverymethod">
		<columns names="delivery_method" ref-type="src-columns"/>
	</constraint>
</table>

<table name="delivery" layer="0" collapse-mode="2" max-obj-count="9">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1220" y="1760"/>
	<column name="order_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="delivery_method" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="delivery_status" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<column name="addr_line1" not-null="true">
		<type name="character varying" length="12"/>
	</column>
	<column name="addr_line2" not-null="true">
		<type name="character varying" length="32"/>
	</column>
	<column name="city" not-null="true">
		<type name="character varying" length="127"/>
	</column>
	<column name="postcode" not-null="true">
		<type name="character varying" length="31"/>
	</column>
	<column name="delivered_date">
		<type name="timestamp" length="0"/>
	</column>
	<constraint name="delivery_pkey" type="pk-constr" table="public.delivery">
		<columns names="order_id" ref-type="src-columns"/>
	</constraint>
</table>

<table name="guestinfomation" layer="0" collapse-mode="2" max-obj-count="6">
	<schema name="public"/>
	<role name="neomerce_app"/>
	<position x="1840" y="1800"/>
	<column name="order_id" not-null="true">
		<type name="character" length="36"/>
	</column>
	<column name="first_name" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="last_name" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="email" not-null="true">
		<type name="character varying" length="255"/>
	</column>
	<column name="phone_number" not-null="true">
		<type name="character varying" length="15"/>
	</column>
	<constraint name="guestinfomation_pkey" type="pk-constr" table="public.guestinfomation">
		<columns names="order_id" ref-type="src-columns"/>
	</constraint>
</table>

<constraint name="city_city_type_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.citytype" table="public.city">
	<columns names="city_type" ref-type="src-columns"/>
	<columns names="city_type" ref-type="dst-columns"/>
</constraint>

<constraint name="customer_account_type_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.accounttype" table="public.customer">
	<columns names="account_type" ref-type="src-columns"/>
	<columns names="account_type" ref-type="dst-columns"/>
</constraint>

<constraint name="userinformation_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.customer" table="public.userinformation">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="userinformation_city_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.city" table="public.userinformation">
	<columns names="city" ref-type="src-columns"/>
	<columns names="city" ref-type="dst-columns"/>
</constraint>

<constraint name="telephonenumber_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.userinformation" table="public.telephonenumber">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="session_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.customer" table="public.session">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="accountcredential_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.userinformation" table="public.accountcredential">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="category_parent_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.category" table="public.category">
	<columns names="parent_id" ref-type="src-columns"/>
	<columns names="category_id" ref-type="dst-columns"/>
</constraint>

<constraint name="productcategory_category_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.category" table="public.productcategory">
	<columns names="category_id" ref-type="src-columns"/>
	<columns names="category_id" ref-type="dst-columns"/>
</constraint>

<constraint name="productcategory_product_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.product" table="public.productcategory">
	<columns names="product_id" ref-type="src-columns"/>
	<columns names="product_id" ref-type="dst-columns"/>
</constraint>

<constraint name="productattribute_product_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.product" table="public.productattribute">
	<columns names="product_id" ref-type="src-columns"/>
	<columns names="product_id" ref-type="dst-columns"/>
</constraint>

<constraint name="variant_product_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.product" table="public.variant">
	<columns names="product_id" ref-type="src-columns"/>
	<columns names="product_id" ref-type="dst-columns"/>
</constraint>

<constraint name="variantattribute_variant_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.variant" table="public.variantattribute">
	<columns names="variant_id" ref-type="src-columns"/>
	<columns names="variant_id" ref-type="dst-columns"/>
</constraint>

<constraint name="cartitem_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.customer" table="public.cartitem">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="cartitem_variant_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.variant" table="public.cartitem">
	<columns names="variant_id" ref-type="src-columns"/>
	<columns names="variant_id" ref-type="dst-columns"/>
</constraint>

<constraint name="orderdata_customer_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.customer" table="public.orderdata">
	<columns names="customer_id" ref-type="src-columns"/>
	<columns names="customer_id" ref-type="dst-columns"/>
</constraint>

<constraint name="orderitem_variant_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.variant" table="public.orderitem">
	<columns names="variant_id" ref-type="src-columns"/>
	<columns names="variant_id" ref-type="dst-columns"/>
</constraint>

<constraint name="orderitem_order_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.orderdata" table="public.orderitem">
	<columns names="order_id" ref-type="src-columns"/>
	<columns names="order_id" ref-type="dst-columns"/>
</constraint>

<constraint name="payment_order_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.orderdata" table="public.payment">
	<columns names="order_id" ref-type="src-columns"/>
	<columns names="order_id" ref-type="dst-columns"/>
</constraint>

<constraint name="payment_payment_method_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.paymentmethod" table="public.payment">
	<columns names="payment_method" ref-type="src-columns"/>
	<columns names="payment_method" ref-type="dst-columns"/>
</constraint>

<constraint name="payment_payment_status_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.paymentstatus" table="public.payment">
	<columns names="payment_status" ref-type="src-columns"/>
	<columns names="payment_status" ref-type="dst-columns"/>
</constraint>

<constraint name="delivery_order_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.orderdata" table="public.delivery">
	<columns names="order_id" ref-type="src-columns"/>
	<columns names="order_id" ref-type="dst-columns"/>
</constraint>

<constraint name="delivery_delivery_method_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.deliverymethod" table="public.delivery">
	<columns names="delivery_method" ref-type="src-columns"/>
	<columns names="delivery_method" ref-type="dst-columns"/>
</constraint>

<constraint name="delivery_delivery_status_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.deliverystatus" table="public.delivery">
	<columns names="delivery_status" ref-type="src-columns"/>
	<columns names="delivery_status" ref-type="dst-columns"/>
</constraint>

<constraint name="delivery_city_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="CASCADE" del-action="NO ACTION" ref-table="public.city" table="public.delivery">
	<columns names="city" ref-type="src-columns"/>
	<columns names="city" ref-type="dst-columns"/>
</constraint>

<constraint name="guestinfomation_order_id_fkey" type="fk-constr" comparison-type="MATCH SIMPLE"
	 upd-action="NO ACTION" del-action="NO ACTION" ref-table="public.orderdata" table="public.guestinfomation">
	<columns names="order_id" ref-type="src-columns"/>
	<columns names="order_id" ref-type="dst-columns"/>
</constraint>

<relationship name="rel_city_citytype" type="relfk" layer="0"
	 custom-color="#fe8387"
	 src-table="public.city"
	 dst-table="public.citytype" reference-fk="city_city_type_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_customer_accounttype" type="relfk" layer="0"
	 custom-color="#f6cf03"
	 src-table="public.customer"
	 dst-table="public.accounttype" reference-fk="customer_account_type_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_userinformation_customer" type="relfk" layer="0"
	 custom-color="#009618"
	 src-table="public.userinformation"
	 dst-table="public.customer" reference-fk="userinformation_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_userinformation_city" type="relfk" layer="0"
	 custom-color="#cac508"
	 src-table="public.userinformation"
	 dst-table="public.city" reference-fk="userinformation_city_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_telephonenumber_userinformation" type="relfk" layer="0"
	 custom-color="#4a5067"
	 src-table="public.telephonenumber"
	 dst-table="public.userinformation" reference-fk="telephonenumber_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_session_customer" type="relfk" layer="0"
	 custom-color="#c968b4"
	 src-table="public.session"
	 dst-table="public.customer" reference-fk="session_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_accountcredential_userinformation" type="relfk" layer="0"
	 custom-color="#b56980"
	 src-table="public.accountcredential"
	 dst-table="public.userinformation" reference-fk="accountcredential_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_category_category" type="relfk" layer="0"
	 custom-color="#6394fb"
	 src-table="public.category"
	 dst-table="public.category" reference-fk="category_parent_id_fkey"
	 src-required="false" dst-required="false">
	<line>
		<position x="1079.06" y="527.088"/>
	<position x="1079.06" y="457"/>
	<position x="964.042" y="457"/>
	</line>
</relationship>

<relationship name="rel_productcategory_category" type="relfk" layer="0"
	 custom-color="#aae858"
	 src-table="public.productcategory"
	 dst-table="public.category" reference-fk="productcategory_category_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_productcategory_product" type="relfk" layer="0"
	 custom-color="#fa4fe3"
	 src-table="public.productcategory"
	 dst-table="public.product" reference-fk="productcategory_product_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_productattribute_product" type="relfk" layer="0"
	 custom-color="#d83127"
	 src-table="public.productattribute"
	 dst-table="public.product" reference-fk="productattribute_product_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_variant_product" type="relfk" layer="0"
	 custom-color="#11abf3"
	 src-table="public.variant"
	 dst-table="public.product" reference-fk="variant_product_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_variantattribute_variant" type="relfk" layer="0"
	 custom-color="#6d28c6"
	 src-table="public.variantattribute"
	 dst-table="public.variant" reference-fk="variantattribute_variant_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_cartitem_customer" type="relfk" layer="0"
	 custom-color="#d2fc67"
	 src-table="public.cartitem"
	 dst-table="public.customer" reference-fk="cartitem_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_cartitem_variant" type="relfk" layer="0"
	 custom-color="#906e03"
	 src-table="public.cartitem"
	 dst-table="public.variant" reference-fk="cartitem_variant_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_orderdata_customer" type="relfk" layer="0"
	 custom-color="#f89154"
	 src-table="public.orderdata"
	 dst-table="public.customer" reference-fk="orderdata_customer_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_orderitem_variant" type="relfk" layer="0"
	 custom-color="#e65aa8"
	 src-table="public.orderitem"
	 dst-table="public.variant" reference-fk="orderitem_variant_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_orderitem_orderdata" type="relfk" layer="0"
	 custom-color="#3bfc72"
	 src-table="public.orderitem"
	 dst-table="public.orderdata" reference-fk="orderitem_order_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_payment_orderdata" type="relfk" layer="0"
	 custom-color="#af349f"
	 src-table="public.payment"
	 dst-table="public.orderdata" reference-fk="payment_order_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_payment_paymentmethod" type="relfk" layer="0"
	 custom-color="#6b47a1"
	 src-table="public.payment"
	 dst-table="public.paymentmethod" reference-fk="payment_payment_method_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_payment_paymentstatus" type="relfk" layer="0"
	 custom-color="#55d52c"
	 src-table="public.payment"
	 dst-table="public.paymentstatus" reference-fk="payment_payment_status_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_delivery_orderdata" type="relfk" layer="0"
	 custom-color="#0604d6"
	 src-table="public.delivery"
	 dst-table="public.orderdata" reference-fk="delivery_order_id_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_delivery_deliverymethod" type="relfk" layer="0"
	 custom-color="#4a305a"
	 src-table="public.delivery"
	 dst-table="public.deliverymethod" reference-fk="delivery_delivery_method_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_delivery_deliverystatus" type="relfk" layer="0"
	 custom-color="#3070b5"
	 src-table="public.delivery"
	 dst-table="public.deliverystatus" reference-fk="delivery_delivery_status_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_delivery_city" type="relfk" layer="0"
	 custom-color="#a1c796"
	 src-table="public.delivery"
	 dst-table="public.city" reference-fk="delivery_city_fkey"
	 src-required="false" dst-required="false"/>

<relationship name="rel_guestinfomation_orderdata" type="relfk" layer="0"
	 custom-color="#1e6a7a"
	 src-table="public.guestinfomation"
	 dst-table="public.orderdata" reference-fk="guestinfomation_order_id_fkey"
	 src-required="false" dst-required="false"/>

<permission>
	<object name="neomerce" type="database"/>
	<privileges connect="true" temporary="true"/>
</permission>
<permission>
	<object name="neomerce" type="database"/>
	<roles names="postgres"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
<permission>
	<object name="neomerce" type="database"/>
	<roles names="neomerce_app"/>
	<privileges create="true" connect="true" temporary="true"/>
</permission>
</dbmodel>
